# Project Survey (AI-Enhanced)

## Summary

Agent Foreman is a CLI harness for AI agents that facilitates feature-driven development for long-running tasks. It manages a persistent feature list, tracks progress, and uses AI agents to scan and analyze projects.

> Analyzed by: gemini

## Tech Stack

| Aspect | Value |
|--------|-------|
| Language | TypeScript |
| Framework | Node.js |
| Build Tool | tsc |
| Test Framework | Vitest |
| Package Manager | npm |

## Directory Structure

### Entry Points
- `src/index.ts`

### Source Directories
- `src/`

## Modules

### cli
- **Path**: `src/index.ts`
- **Status**: complete
- **Description**: Main entry point and CLI command handling using yargs

### project-scanner
- **Path**: `src/project-scanner.ts`
- **Status**: complete
- **Description**: Scans directory structure and identifies file types

### ai-scanner
- **Path**: `src/ai-scanner.ts`
- **Status**: complete
- **Description**: Interfaces with AI agents (Claude, Gemini, Codex) to analyze projects

### agents
- **Path**: `src/agents.ts`
- **Status**: complete
- **Description**: Manages subprocess execution of AI CLI tools

### feature-list
- **Path**: `src/feature-list.ts`
- **Status**: complete
- **Description**: Manages the JSON-based feature list (CRUD, merging, stats)

### progress-log
- **Path**: `src/progress-log.ts`
- **Status**: complete
- **Description**: Manages the markdown-based progress log

### init-script
- **Path**: `src/init-script.ts`
- **Status**: complete
- **Description**: Generates shell scripts for project bootstrapping

## Feature Completion Status

| ID | Description | Module | Status |
|----|-------------|--------|--------|
| cli.survey | Generate AI-powered project survey report | cli | ✅ passing |
| cli.init | Initialize harness (feature list, progress log, init script) | cli | ✅ passing |
| cli.step | Select and present the next high-priority feature to work on | cli | ✅ passing |
| cli.status | Display current project health and feature completion stats | cli | ✅ passing |
| cli.impact | Analyze dependent features for a specific change | cli | ✅ passing |
| cli.complete | Mark a feature as passing and update logs | cli | ✅ passing |
| scanner.autonomous_exploration | Agent autonomously explores codebase to discover features | ai-scanner | ✅ passing |
| scanner.generate_from_goal | Generate initial feature list from a text goal for empty projects | ai-scanner | ✅ passing |
| agents.abstraction | Unified interface for Gemini, Claude, and Codex CLIs | agents | ✅ passing |
| agents.retry | Retry logic for failed AI agent calls | agents | ✅ passing |
| features.dependency_graph | Build and traverse feature dependency graph | impact-analyzer | ✅ passing |
| features.circular_check | Detect circular dependencies in features | impact-analyzer | ✅ passing |
| logging.audit | Structured logging of all harness actions to markdown | progress-log | ✅ passing |
| init.script_gen | Generate project-specific 'ai/init.sh' bootstrap script | init-script | ✅ passing |

## Completion Assessment

**Overall: 100%**

**Notes:**
- All features are passing
- Completed 14/14 features
- Last updated: 2025-11-28

## Recommendations

- Add more unit tests for edge cases in AI response parsing.
- Consider adding a 'rollback' command to revert the last step.
- Implement a plugin system for custom AI agents.

## Commands

```bash
# Install dependencies
npm install

# Start development server
tsx src/index.ts

# Build for production
tsc && chmod +x dist/index.js

# Run tests
vitest run
```

---

*Generated by agent-foreman with AI analysis*